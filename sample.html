<html>
 <head>
  <script type="text/javascript" src="2d.js"></script>
  <script type="text/javascript" src="util.js"></script>
  <script type="text/javascript" src="buhin.js"></script>
  <script type="text/javascript" src="curve.js"></script>
  <script type="text/javascript" src="kage.js"></script>
  <script type="text/javascript" src="mincho.js"></script>
  <script type="text/javascript" src="gothic.js"></script>
  <script type="text/javascript" src="fontcanvas.js"></script>
  <script type="text/javascript" src="polygon.js"></script>
  <script type="text/javascript" src="polygons.js"></script>
  <script type="text/javascript" src="stroketype.js"></script>
  <script type="text/javascript">
function draw() {
 var canvas = document.getElementById("canvas");
 var ctx = canvas.getContext("2d");
 var kage = new Kage(FONTTYPE.MINCHO);
 kage.kUseCurve = false;
 function getSVG(data){
  var polygons = new Polygons();
  kage.makeGlyph(polygons, data);
  return polygons.generateSVG(kage.kUseCurve);
 }
 kage.kBuhin.push("u6f5f-j","99:0:0:3:0:157:200:u6c35-01$99:0:0:49:0:196:200:u8204@3");
 kage.kBuhin.push("u6c35-01","2:7:8:31:20:56:27:67:41$2:7:8:12:66:39:73:49:87$2:7:8:14:133:49:142:45:184$2:32:7:40:150:44:138:86:67");
 kage.kBuhin.push("u8204@3","99:0:0:0:0:200:200:u81fc-03$2:0:7:81:93:59:129:16:151$1:2:2:67:114:173:114$2:22:4:173:114:173:158:160:182$2:7:8:53:133:54:165:35:177$2:7:8:72:132:83:153:79:170$2:7:8:94:130:109:143:113:163$2:7:8:118:126:137:136:144:153");
 kage.kBuhin.push("u81fc-03","2:0:7:96:19:72:28:40:35$1:12:13:40:35:40:89$1:2:0:40:60:97:60$1:0:2:110:31:160:31$1:22:23:160:31:160:89$1:0:2:109:60:160:60$1:2:2:40:89:160:89");

 kage.kBuhin.push("testdata1","1:0:0:15:28:72:28$1:2:2:62:139:165:139$2:32:4:142:37:82:59:95:166$1:0:0:18:49:71:49$1:0:0:13:69:66:69$1:0:0:12:96:63:117$1:0:0:23:113:76:113$1:32:23:64:139:64:181$1:32:4:150:139:123:165$1:0:4:85:37:176:37$2:7:8:148:67:129:95:162:114$1:0:2:11:181:64:181$7:0:7:52:102:52:147:52:167:16:163$3:0:5:152:58:152:95:189:95$7:0:7:162:53:162:98:162:118:126:114$1:0:0:127:172:180:172$3:0:5:141:126:141:163:182:163$1:0:0:112:98:129:106$2:0:7:93:22:99:56:120:75$2:7:0:122:17:120:45:84:61$2:0:7:109:123:89:110:78:82$1:22:23:19:120:19:153$2:22:5:118:147:118:188:88:185$2:12:7:184:17:180:36:169:59$4:22:5:32:49:11:83:52:83");
 kage.kBuhin.push("testdata2","2:0:5:23:32:61:15:95:47$2:32:4:76:74:98:99:74:125$6:0:5:94:62:144:117:223:51:166:77$3:12:5:153:115:175:140:151:166$3:12:5:107:131:80:156:105:182$6:7:4:20:93:6:120:23:155:35:183$6:7:8:107:25:175:18:137:74:179:40$3:22:5:43:54:43:76:29:101$2:22:5:178:135:201:196:164:182$2:0:5:75:101:87:141:48:141$3:0:5:73:144:85:184:46:184");
 kage.kBuhin.push("testdata3","1:0:0:22:20:76:20$1:0:0:42:20:96:20$1:0:0:20:44:40:44$1:2:2:60:42:80:42$1:32:32:36:52:46:106$1:12:13:96:68:104:126$1:12:13:158:72:148:128$1:12:13:178:80:178:138$1:12:13:142:40:142:98$1:12:13:28:96:28:154$1:12:13:36:94:36:152$1:12:13:78:72:78:130$1:0:23:112:114:112:172$1:22:4:114:14:114:72$1:22:313:66:126:66:184$1:22:413:184:22:174:58$1:22:413:172:10:172:48$1:22:24:160:168:160:194$1:12:13:91:103:102:161");
 kage.kBuhin.push("testdata4","2:0:0:30:31:131:10:85:65$2:22:7:32:57:116:60:48:98$2:32:4:35:117:136:96:74:129$2:0:5:119:74:220:53:158:86$2:32:5:114:48:215:27:140:27$2:32:8:123:147:224:126:147:126$2:12:4:24:171:125:150:48:150$2:12:4:149:181:83:181:173:160$2:22:4:130:120:75:121:165:100$2:7:5:84:184:22:184:107:153$2:7:8:43:63:20:104:59:104$2:7:8:83:55:146:96:99:96$2:7:4:57:47:120:88:73:88$2:7:7:6:89:54:116:7:116$2:7:0:6:104:54:131:7:131$2:0:4:54:15:77:82:101:8$2:0:7:12:70:12:27:38:49$2:32:7:174:47:174:5:194:26");
 kage.kBuhin.push("testdata5","3:0:0:24:48:52:12:70:40$3:0:5:36:96:60:74:82:88$3:0:5:26:142:50:120:50:150$3:0:5:30:172:54:150:50:182$3:0:5:194:22:144:22:140:54$3:32:5:164:102:126:82:122:114$3:32:5:178:144:134:142:130:174$3:12:5:190:38:154:46:150:78$3:22:5:126:22:96:24:92:56$3:12:5:156:126:156:168:190:168$3:12:5:150:138:150:180:184:180$3:12:5:140:148:140:190:174:190$3:12:5:160:78:160:120:190:122$3:12:5:62:84:62:126:94:126$1:0:0:72:136:116:136");
 kage.kBuhin.push("testdata6","4:22:0:16:42:23:68:40:68$4:22:0:122:50:122:81:152:81$4:22:0:140:35:140:66:170:68$4:22:0:144:117:144:148:106:148$4:22:0:158:132:158:163:120:161$4:0:5:72:104:72:135:34:133$4:0:5:60:150:60:181:16:140$4:0:5:89:29:89:60:62:89$4:0:5:104:70:97:99:102:132$4:22:5:180:18:149:46:180:46$4:22:5:25:172:75:195:106:195$4:22:5:118:185:166:185:197:185$4:22:5:26:105:31:83:62:83");
 kage.kBuhin.push("testdata7","6:0:0:90:30:85:93:118:96:144:48$6:0:0:123:36:121:80:154:83:180:35$6:32:0:183:73:133:132:166:135:192:87$6:0:8:22:80:22:129:55:132:86:132$6:0:8:9:96:9:145:42:148:75:150$6:0:4:30:39:30:88:78:88:80:111$6:0:4:71:185:140:189:184:163:116:153$6:0:4:70:125:141:125:179:93:115:93");
 kage.kBuhin.push("testdata8","7:22:7:72:37:108:60:113:85:43:94$7:12:7:96:113:96:140:36:139:31:174$7:0:7:105:110:105:137:128:156:40:171$7:22:7:158:25:158:63:171:83:83:98$7:12:7:168:25:168:63:181:83:93:98$7:12:7:158:89:158:127:213:148:122:175$7:32:7:121:21:94:22:99:47:29:56$7:32:7:162:157:130:145:135:170:65:179$7:32:7:31:70:54:97:59:122:16:124$7:32:7:19:164:55:119:60:144:4:144$7:32:7:28:36:12:34:16:62:67:27");
 
 kage.kBuhin.push("u5315", "2:0:7:154:64:101:91:45:102$3:0:5:45:25:45:176:158:176");
 kage.kBuhin.push("u20915-08", "99:0:0:54:6:154:84:u5315:0:0:0$2:0:7:81:84:76:109:60:128$1:0:0:76:104:137:104$1:0:0:57:136:140:136$2:32:7:102:104:101:173:45:188$2:7:8:97:145:122:157:128:171");
 kage.kBuhin.push("cdp-8cce-02", "1:0:2:99:24:173:24$2:22:7:173:24:160:42:141:62$2:7:8:113:42:138:55:149:79$1:0:2:95:86:176:86$2:22:7:176:86:168:98:158:110$1:2:0:138:131:182:131$1:32:32:138:86:138:172$2:0:7:111:108:110:170:79:188$6:7:0:106:131:113:160:124:180:177:180");
 kage.kBuhin.push("u7591-02", "99:0:0:4:0:164:200:u20915-08:0:0:0$99:0:0:49:0:195:200:cdp-8cce-02:0:0:0");
 kage.kBuhin.push("u51ab-01", "2:7:8:21:32:41:41:50:58$2:7:8:13:120:39:144:35:177$2:2:7:28:139:45:116:72:56");
 kage.kBuhin.push("u51dd", "99:0:0:2:0:157:200:u51ab-01$99:0:0:5:0:200:200:u7591-02");
 
 kage.kBuhin.push("u7fa8", "99:0:0:0:2:200:176:u7f8a-03$99:0:0:0:9:200:200:u3cc4-04-var-001");
 kage.kBuhin.push("u3cc4-04-var-001", "99:0:0:0:73:200:273:u3cc4-03-var-001:0:0:0");
 kage.kBuhin.push("u3cc4-03-var-001", "99:0:0:0:-36:198:164:u6c35-01-var-001:0:0:0$2:0:7:104:14:93:47:66:69$1:0:2:91:38:168:38$2:22:7:168:38:165:44:145:64$2:32:7:122:38:116:98:63:113$2:7:0:123:38:128:94:173:109");
 kage.kBuhin.push("u6c35-01-var-001", "2:7:8:31:53:50:61:55:71$2:7:8:13:76:32:84:37:95$2:7:8:16:120:46:123:43:151$2:32:7:39:128:44:120:82:60");
 kage.kBuhin.push("u7f8a-03", "2:7:8:55:13:71:24:78:41$2:0:7:141:15:132:30:117:47$1:0:0:22:47:178:47$1:32:32:100:47:100:101$1:0:0:30:74:170:74$1:0:0:15:101:185:101");
 
 var polygons = new Polygons();
 kage.makeGlyph(polygons, "u51dd");
 document.getElementById('svg').innerHTML = polygons.generateSVG();
 document.getElementById('eps').innerHTML = polygons.generateEPS();

 let element = document.getElementById('box');
 element.insertAdjacentHTML('beforebegin', getSVG("testdata1"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata2"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata3"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata4"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata5"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata6"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata7"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata8"));
 element.insertAdjacentHTML('beforebegin', getSVG("u6f5f-j"));
 element.insertAdjacentHTML('beforebegin', getSVG("u51dd"));
 element.insertAdjacentHTML('beforebegin', getSVG("u7fa8"));
 kage.setFont(FONTTYPE.GOTHIC);
 element.insertAdjacentHTML('beforebegin', getSVG("testdata1"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata2"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata3"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata4"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata5"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata6"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata7"));
 element.insertAdjacentHTML('beforebegin', getSVG("testdata8"));
 element.insertAdjacentHTML('beforebegin', getSVG("u6f5f-j"));
 element.insertAdjacentHTML('beforebegin', getSVG("u51dd"));
 element.insertAdjacentHTML('beforebegin', getSVG("u7fa8"));
 

 /*
 document.write("<textarea>");
 document.write(polygons.generateSVG());
 document.write("</textarea>");
 document.write("<textarea>");
 document.write(polygons.generateEPS());
 document.write("</textarea>");
 document.close();4
 */
 ctx.fillStyle = "rgb(0, 0, 0)";
 
 for(var i = 0; i < polygons.array.length; i++){
  ctx.beginPath();
  ctx.moveTo(polygons.array[i].array[0].x, polygons.array[i].array[0].y);
  for(var j = 1; j < polygons.array[i].array.length; j++){
   ctx.lineTo(polygons.array[i].array[j].x, polygons.array[i].array[j].y);
  }
  ctx.closePath();
  ctx.fill();
 }
}
  </script>
 </head>
 <body onload="draw()">
   <canvas style="border: 1px #ccc solid;" id="canvas" width="200" height="200"></canvas>
   <div id="box"></div>
   <textarea id="svg"></textarea>
   <textarea id="eps"></textarea>
   
 </body>
</html>
